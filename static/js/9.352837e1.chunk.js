(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{388:function(e,n,t){"use strict";var a=t(397),r=t.n(a),i=t(13),c=t(56),o=function(e){return e},u=function(e){return i.g.handleRequestError(e),Promise.reject(e)},l=function(e){return e.headers.Authorization="",e},h=r.a.create({baseURL:c.c});[h].forEach(function(e){e.interceptors.request.use(l),e.interceptors.response.use(o,u)});var m={mainClient:h},s={createHotel:function(e){return m.mainClient.post("/hotels",e).then(function(e){return e.data})},getAllPayment:function(e){return m.mainClient.get("/hotels/".concat(e,"/payment/get-all")).then(function(e){return e.data})},getHotel:function(e){return m.mainClient.get("/hotels/".concat(e)).then(function(e){return e.data})},getHotels:function(e){return m.mainClient.get("/hotels",{params:e}).then(function(e){return e.data})},updateHotel:function(e,n){return m.mainClient.patch("/hotels/".concat(e),n).then(function(e){return e.data})}},d={getHotelBookings:function(e){return m.mainClient.get("/hotel-bookings",{params:e}).then(function(e){return e.data})},updateHotelBooking:function(e,n){return m.mainClient.patch("/hotel-bookings/".concat(e),n).then(function(e){return e.data})}},g={createPaymentInformation:function(e){return m.mainClient.post("/payment-informations",e).then(function(e){return e.data})}};t.d(n,"b",function(){return s}),t.d(n,"a",function(){return d}),t.d(n,"c",function(){return g})},390:function(e,n,t){"use strict";t.d(n,"b",function(){return a}),t.d(n,"d",function(){return r}),t.d(n,"a",function(){return i}),t.d(n,"c",function(){return c});var a=[{code:"standard",name:"Ph\xf2ng ti\xeau chu\u1ea9n"},{code:"deluxe",name:"Ph\xf2ng sang tr\u1ecdng"}],r=[{code:"wifi",name:"Wifi"},{code:"drink",name:"\u0110\u1ed3 u\u1ed1ng mi\u1ec5n ph\xed"},{code:"bath",name:"Ph\xf2ng t\u1eafm sang tr\u1ecdng"},{code:"car",name:"\u0110\u1ed7 xe mi\u1ec5n ph\xed"},{code:"swim",name:"H\u1ed3 b\u01a1i mi\u1ec5n ph\xed"}],i=[{code:"VIETINBANK",name:"Vietinbank"},{code:"VIETCOMBANK",name:"Vietcombank"},{code:"BIDV",name:"BIDV"}],c=[{code:"pending_payment",name:"Ch\u1edd thanh to\xe1n"},{code:"pending_confirm",name:"Ch\u1edd x\xe1c nh\u1eadn"},{code:"confirmed",name:"\u0110\xe3 x\xe1c nh\u1eadn"},{code:"cancelled",name:"\u0110\xe3 h\u1ee7y"},{code:"done",name:"\u0110\xe3 ho\xe0n th\xe0nh"}]},645:function(e,n,t){"use strict";t.r(n);t(406);var a=t(411),r=(t(462),t(458)),i=t(32),c=(t(113),t(36)),o=t(0),u=t.n(o),l=t(13),h=t(425),m=t.n(h),s=t(426),d=t(31),g=t(59),f=t.n(g),p=t(388),b=l.f.getQueryStringFromObj,k=(t(91),t(30)),E=(t(634),t(637)),v=(t(122),t(101)),y=(t(184),t(119)),S=(t(417),t(429)),C=(t(100),t(19)),O=t(390),T=function(e){return[{title:"ID",dataIndex:"id",align:"center",width:70},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",render:function(n,t){var a=u.a.createElement(C.a,null,O.c.filter(function(e){return e.code!==n}).map(function(n){return u.a.createElement(C.a.Item,{onClick:function(){return e(t.id,n.code)},key:n.code},n.name)}));return u.a.createElement(v.a,{overlay:a,trigger:["click"]},u.a.createElement(y.a,{title:"B\u1ea5m \u0111\u1ec3 s\u1eeda"},u.a.createElement(S.a,{color:"red"},function(e){var n=O.c.find(function(n){return n.code===e});return n?n.name:null}(n))))},align:"center"},{title:"Thanh to\xe1n",key:"view",render:function(e,n){return u.a.createElement(k.a,{type:"link",onClick:function(){n.imageWitness?E.a.info({title:"Th\xf4ng tin thanh to\xe1n",content:u.a.createElement("div",null,u.a.createElement("div",null,"Ng\xe2n h\xe0ng: ",n.bankCode),u.a.createElement("div",null,"T\xean t\xe0i kho\u1ea3n: ",n.accountName),u.a.createElement("div",null,"S\u1ed1 ti\u1ec1n: ",n.paided),u.a.createElement("img",{width:"100%",height:"100%",src:n.imageWitness})),onOk:function(){}}):E.a.info({title:"Th\xf4ng b\xe1o",content:u.a.createElement("div",null,"\u0110\u01a1n \u0111\u1eb7t ph\xf2ng ch\u01b0a thanh to\xe1n"),onOk:function(){}})}},"Xem thanh to\xe1n")},align:"center"},{title:"Kh\xe1ch \u0111\u1eb7t ph\xf2ng",render:function(e,n){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,"T\xean: ",n.guestName),u.a.createElement("div",null,"S\u0110T: ",n.guestPhoneNumber),u.a.createElement("div",null,"Email: ",n.guestEmail))},key:"abc",align:"center"},{title:"Th\xf4ng tin ph\xf2ng",render:function(e,n){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,"Kh\xe1ch s\u1ea1n: ",n.hotel.name),u.a.createElement("div",null,"Lo\u1ea1i ph\xf2ng: ",function(e){var n=O.b.find(function(n){return n.code===e});return n?n.name:null}(n.roomType)),u.a.createElement("div",null,"S\u1ed1 ph\xf2ng: ",n.rooms),u.a.createElement("div",null,"S\u1ed1 kh\xe1ch: ",n.guests))},key:"def",align:"center"},{title:"Th\xf4ng tin gi\xe1",render:function(e,n){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,"Gi\xe1 ph\xf2ng / 1 \u0111\xeam: ",n.roomPrice," VN\u0110"),u.a.createElement("div",null,"Thu\u1ebf: ",n.roomTax," %"))},key:"ghi",align:"center"},{title:"Ng\xe0y checkin",dataIndex:"checkinDate",align:"center"},{title:"Ng\xe0y checkout",dataIndex:"checkoutDate",align:"center"}]},j=l.f.getObjFromQueryString,w=function(){var e=l.a.location,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(o.useState)([]),t=Object(d.a)(n,2),a=t[0],r=t[1],c=Object(o.useState)(e),u=Object(d.a)(c,2),h=u[0],g=u[1],k=Object(o.useState)(!1),E=Object(d.a)(k,2),v=E[0],y=E[1],S=Object(o.useState)({total:0,current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","40","60","80","100"]}),C=Object(d.a)(S,2),O=C[0],T=C[1],j=function(){var e=Object(s.a)(m.a.mark(function e(n){var t,a,c,o,u,l,h;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,p.a.getHotelBookings(n);case 4:(t=e.sent).result&&(a=t.result,c=a.hotelBookings,o=a.total,u=a.page,l=a.pageSize,r(c),(h=Object(i.a)({},O)).total=o,h.current=u,h.pageSize=l,T(h));case 6:return e.prev=6,y(!1),e.finish(6);case 9:case"end":return e.stop()}},e,this,[[0,,6,9]])}));return function(n){return e.apply(this,arguments)}}();return Object(o.useEffect)(function(){f.a.isEqual(e,h)?j(h):l.a.push({search:b(h)})},[h]),{bookings:a,pagination:O,handleTableChange:function(e){var n=Object(i.a)({},h,{page:e.current,pageSize:e.pageSize});g(n)},queryParams:h,setQueryParams:g,fetchingBooking:v}}(e.search?j(e.search):{page:1,pageSize:10}),t=n.bookings,h=n.pagination,g=n.handleTableChange,k=n.queryParams,E=n.setQueryParams,v=n.fetchingBooking;return u.a.createElement("div",{className:"seller-block"},u.a.createElement(a.a,{className:"mt-3",title:"Danh s\xe1ch \u0111\u1eb7t ph\xf2ng",extra:u.a.createElement("span",{className:"total"},"T\u1ed5ng s\u1ed1 \u0111\u01a1n \u0111\u1eb7t ph\xf2ng: ",h.total||0),bodyStyle:{padding:"1rem"}},u.a.createElement(r.a,{bordered:!0,columns:T(function(e,n){p.a.updateHotelBooking(e,{status:n}).then(function(){c.a.success({message:"Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i th\xe0nh c\xf4ng"});var e=Object(i.a)({},k);E(e)})}),rowKey:"id",dataSource:t,pagination:h,loading:v,onChange:g})))};n.default=w}}]);
//# sourceMappingURL=9.352837e1.chunk.js.map